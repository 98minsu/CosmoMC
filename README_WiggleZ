This module for the June 2013 version of CosmoMC includes the likelihood code and data
necessary to incorporate the WiggleZ Dark Energy survey measurements of the galaxy power
spectrum as described in arxiv:1003.5721, Blake et al (2010), and 
arxiv:1210.2130, Parkinson et al (2012) (If you make use of the WiggleZ dataset, 
please remember to cite both the Blake et al and Parkinson et al papers).  

In order to run this code you will first have to download and install the June 2013
version of CosmoMC, which can be found online at http://cosmologist.info/cosmomc  
Follow the instructions to install CosmoMC as given in the readme:
http://cosmologist.info/cosmomc/readme.html 

Please note that at this time after the WiggleZ module has been installed, CAMB will
no longer run as a standalone program.

Installing this module is then very straight forward.  Simply run the following command:
tar -xzf wigglez_module_new.tar.gz -C pathtocosmomc  

Next go back into your CosmoMC directory and rebuild CosmoMC:
cd pathtocosmomc
make clean
make all

You should now be ready to run the with the WiggleZ MPK data.  To do so simply go into
test.ini and make sure the following line is uncommented

DEFAULT(batch1/MPK.ini)

Then decide whether you want to include nonlinear corrections from the halofit
module and go into batch1/MPK.ini to set the variable "nonlinear_pk" accordingly.  We 
do recommend that you set nonlinear_pk = T 

You can also choose to include other matter power spectra in your analysis by setting
the following variables in batch1/MPK.ini 

mpk_numdatasets = 1
mpk_dataset1 = data/sdss_lrgDR4.dataset

We have included in this module the SDSS DR4 LRG power spectrum of 
arXiv:astro-ph/0608632, Tegmark et al (2006).  Please do cite accordingly if you use that
dataset.

Finally run cosmomc:

./cosmomc test.ini
or
mpiexec -n numofprocs cosmomc test.ini
or 
mpirun -n numofprocs cosmomc test.ini

For testing purposes we also include some fiducial .ini files.  In order to check that your
installation was successful, run the following command:

./cosmomc fid.ini

The end of your output should look something like this:
 
 Calling WiggleZ likelihood routines
 starting analytic marginalisation over bias
 Bias value:  0.925487853186449     
WiggleZ bin 3 mpk chi-sq:  116.75846
 Calling WiggleZ likelihood routines
 starting analytic marginalisation over bias
 Bias value:  0.904191639473954     
WiggleZ bin 4 mpk chi-sq:  126.44946
 Calling WiggleZ likelihood routines
 starting analytic marginalisation over bias
 Bias value:  0.983063486489037     
WiggleZ bin 1 mpk chi-sq:  116.50274
 Calling WiggleZ likelihood routines
 starting analytic marginalisation over bias
 Bias value:  0.953392812169689     
WiggleZ bin 2 mpk chi-sq:  106.80111
           1 Likelihood:    233.255886268619
  
If the values in thes lines match yours, the installation was successful.
